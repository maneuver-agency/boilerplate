define(function(){function o(o){var t,n,r,a;if(a=$.extend({id:"#gmaps",lat:51.159444,lng:4.181447,markers:[{lat:51.159444,lng:4.181447}],addZoomControls:!0},o),console.log(a),void 0!==GMaps){for(e=new GMaps({div:a.id,lat:a.lat,lng:a.lng,panControl:!1,scaleControl:!1,zoomControlOpt:{style:"SMALL"},zoomControl:!1,overviewMapControl:!1,streetViewControl:!1,mapTypeControl:!1,scrollwheel:!1,styles:[{stylers:[{gamma:.9},{saturation:-83}]}]}),n=0,r=a.markers.length;r>n;n++)a.markers[n].icon="/assets/img/marker.png",e.addMarker(a.markers[n]);a.addZoomControls&&(t=$("<div />",{"class":"zoom-controls"}).appendTo("#gmaps"),$("<div />",{"class":"zoom-in"}).text("+").appendTo(t),$("<div />",{"class":"zoom-out"}).text("--").appendTo(t),$("#gmaps").on("click",".zoom-in",function(){e.zoomIn()}).on("click",".zoom-out",function(){e.zoomOut()}))}}function t(o){e&&GMaps.geolocate({success:function(t){o?e.drawRoute({origin:[t.coords.latitude,t.coords.longitude],destination:[marker.lat,marker.lng],travelMode:"driving",strokeColor:"#131540",strokeOpacity:.6,strokeWeight:6}):e.setCenter(t.coords.latitude,t.coords.longitude),e.fitZoom()}})}var e;return{create:o,locate:t}});