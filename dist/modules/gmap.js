define(function(){function a(a){var b,d,e,f;if(f=$.extend({id:"#gmaps",lat:51.159444,lng:4.181447,markers:[{lat:51.159444,lng:4.181447}],addZoomControls:!0},a),console.log(f),void 0!==GMaps){for(c=new GMaps({div:f.id,lat:f.lat,lng:f.lng,panControl:!1,scaleControl:!1,zoomControlOpt:{style:"SMALL"},zoomControl:!1,overviewMapControl:!1,streetViewControl:!1,mapTypeControl:!1,scrollwheel:!1,styles:[{stylers:[{gamma:.9},{saturation:-83}]}]}),d=0,e=f.markers.length;e>d;d++)f.markers[d].icon="/assets/img/marker.png",c.addMarker(f.markers[d]);f.addZoomControls&&(b=$("<div />",{"class":"zoom-controls"}).appendTo("#gmaps"),$("<div />",{"class":"zoom-in"}).text("+").appendTo(b),$("<div />",{"class":"zoom-out"}).text("--").appendTo(b),$("#gmaps").on("click",".zoom-in",function(){c.zoomIn()}).on("click",".zoom-out",function(){c.zoomOut()}))}}function b(a){c&&GMaps.geolocate({success:function(b){a?c.drawRoute({origin:[b.coords.latitude,b.coords.longitude],destination:[marker.lat,marker.lng],travelMode:"driving",strokeColor:"#131540",strokeOpacity:.6,strokeWeight:6}):c.setCenter(b.coords.latitude,b.coords.longitude),c.fitZoom()}})}var c;return{create:a,locate:b}});